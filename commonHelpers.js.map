{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function getDataFromServer(endpoint, value) {\n  const urlParams = new URLSearchParams({\n    key: '42558235-d544995829d65acb68be95adf',\n    q: value,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  return fetch(`${endpoint}?${urlParams}`).then(responce => {\n    if (!responce.ok) {\n      throw new Error(responce.status);\n    }\n    return responce.json();\n  });\n}\n","export const list = document.querySelector('.img-list');\n\nexport function addElement(array) {\n  const markup = array\n    .map(\n      ({\n        largeImageURL,\n        webformatURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `<li class=\"image-item\">\n    <a href=\"${largeImageURL}\">\n                <img class=\"image\" src=\"${webformatURL}\" alt=\"${tags}\"/>\n                <div class=\"image-info\">\n                    <p class=\"info\"><b>Likes</b> ${likes}</p>\n                    <p class=\"info\"><b>Views</b> ${views}</p>\n                    <p class=\"info\"><b>Comments</b> ${comments}</p>\n                    <p class=\"info\"><b>Downloads</b> ${downloads}</p>\n                </div>\n            </a>\n    </li>`;\n      }\n    )\n    .join('');\n  return list.insertAdjacentHTML('beforeend', markup);\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { getDataFromServer as getImages } from './js/pixabay-api.js';\nimport { list, addElement } from './js/render-functions.js';\n\nconst form = document.querySelector('.image-search-form');\nconst loaderItem = document.querySelector('.load-item');\nconst endpoint = 'https://pixabay.com/api/';\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  list.innerHTML = '';\n  const inputValue = event.currentTarget.input.value;\n  if (inputValue === '') {\n    iziToast.show({\n      title: 'Error',\n      titleColor: '#ffffff',\n      message: 'Write key word to search images',\n      messageColor: '#ffffff',\n      backgroundColor: '#EF4040',\n      position: 'topRight',\n      close: false,\n    });\n    return;\n  }\n  loaderItem.classList.add('loader');\n  getImages(endpoint, inputValue)\n    .then(array => {\n      // SetTimeout is set to demonstrate loader work\n      setTimeout(() => {\n        if (array.hits.length === 0) {\n          iziToast.show({\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n            messageColor: '#ffffff',\n            backgroundColor: '#EF4040',\n            position: 'topRight',\n          });\n        }\n        loaderItem.classList.remove('loader');\n        addElement(array.hits);\n        const lightbox = new SimpleLightbox('.image-item a', {\n          animationSpeed: 300,\n          captionsData: 'alt',\n          captionDelay: 1000,\n          overlayOpacity: 0.5,\n        });\n        lightbox.refresh();\n      }, 4000);\n    })\n    .catch(error => console.log(error));\n  form.reset();\n});\n"],"names":["getDataFromServer","endpoint","value","urlParams","responce","list","addElement","array","markup","largeImageURL","webformatURL","tags","likes","views","comments","downloads","form","loaderItem","event","inputValue","iziToast","getImages","SimpleLightbox","error"],"mappings":"6vBAAO,SAASA,EAAkBC,EAAUC,EAAO,CACjD,MAAMC,EAAY,IAAI,gBAAgB,CACpC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACD,OAAO,MAAM,GAAGD,CAAQ,IAAIE,CAAS,EAAE,EAAE,KAAKC,GAAY,CACxD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CCdO,MAAMC,EAAO,SAAS,cAAc,WAAW,EAE/C,SAASC,EAAWC,EAAO,CAChC,MAAMC,EAASD,EACZ,IACC,CAAC,CACC,cAAAE,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA,eACAN,CAAa;AAAA,0CACcC,CAAY,UAAUC,CAAI;AAAA;AAAA,mDAEjBC,CAAK;AAAA,mDACLC,CAAK;AAAA,sDACFC,CAAQ;AAAA,uDACPC,CAAS;AAAA;AAAA;AAAA,UAK3D,EACA,KAAK,EAAE,EACV,OAAOV,EAAK,mBAAmB,YAAaG,CAAM,CACpD,CCtBA,MAAMQ,EAAO,SAAS,cAAc,oBAAoB,EAClDC,EAAa,SAAS,cAAc,YAAY,EAChDhB,EAAW,2BAEjBe,EAAK,iBAAiB,SAAUE,GAAS,CACvCA,EAAM,eAAc,EACpBb,EAAK,UAAY,GACjB,MAAMc,EAAaD,EAAM,cAAc,MAAM,MAC7C,GAAIC,IAAe,GAAI,CACrBC,EAAS,KAAK,CACZ,MAAO,QACP,WAAY,UACZ,QAAS,kCACT,aAAc,UACd,gBAAiB,UACjB,SAAU,WACV,MAAO,EACb,CAAK,EACD,MACD,CACDH,EAAW,UAAU,IAAI,QAAQ,EACjCI,EAAUpB,EAAUkB,CAAU,EAC3B,KAAKZ,GAAS,CAEb,WAAW,IAAM,CACXA,EAAM,KAAK,SAAW,GACxBa,EAAS,KAAK,CACZ,QACE,2EACF,aAAc,UACd,gBAAiB,UACjB,SAAU,UACtB,CAAW,EAEHH,EAAW,UAAU,OAAO,QAAQ,EACpCX,EAAWC,EAAM,IAAI,EACJ,IAAIe,EAAe,gBAAiB,CACnD,eAAgB,IAChB,aAAc,MACd,aAAc,IACd,eAAgB,EAC1B,CAAS,EACQ,QAAO,CACjB,EAAE,GAAI,CACb,CAAK,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACpCP,EAAK,MAAK,CACZ,CAAC"}